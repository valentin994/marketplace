{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elarvav\\\\Desktop\\\\marketplace\\\\client\\\\src\\\\components\\\\AppNav.js\";\nimport React, { useState } from \"react\";\nimport Dashboard from \"./Dashboard\";\nimport Monitoring from \"./Monitoring\";\nimport Services from \"./Services\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport \"./appNav.scss\";\nexport default function AppNav() {\n  const [isActive, setIsActive] = useState(\"\");\n  const [price, setPrice] = useState([]);\n  const [services, setServices] = useState([]);\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      fetch(\"/api/service\").then(res => res.json()).then(result => {\n        setServices(result);\n      });\n      let currentDebt = services.reduce((a, b) => ({\n        debt: a.debt + b.debt\n      }));\n      currentDebt = currentDebt.debt;\n      services.map((price, index) => {\n        if (price.time && price.active) {\n          currentDebt += (new Date().getTime() - price.time) / 1000 * services[index].price;\n        }\n      });\n      setPrice(Math.round((currentDebt + Number.EPSILON) * 100) / 100);\n    }, 5000);\n    return () => clearInterval(intervalId);\n  });\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"dashboard\"),\n    className: isActive === \"dashboard\" ? \"active\" : \"nothing\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"monitoring\"),\n    className: isActive === \"monitoring\" ? \"active\" : \"nothing\",\n    to: \"/monitoring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, \"Monitoring\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"services\"),\n    className: isActive === \"services\" ? \"active\" : \"nothing\",\n    to: \"/services\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, \"Services\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, price))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/monitoring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Monitoring, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/services\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Services, {\n    user: x => setPrice(x),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["C:/Users/elarvav/Desktop/marketplace/client/src/components/AppNav.js"],"names":["React","useState","Dashboard","Monitoring","Services","BrowserRouter","Router","Switch","Route","Link","AppNav","isActive","setIsActive","price","setPrice","services","setServices","useEffect","intervalId","setInterval","fetch","then","res","json","result","currentDebt","reduce","a","b","debt","map","index","time","active","Date","getTime","Math","round","Number","EPSILON","clearInterval","x"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Monitoring from \"./Monitoring\";\r\nimport Services from \"./Services\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport \"./appNav.scss\";\r\n\r\nexport default function AppNav() {\r\n  const [isActive, setIsActive] = useState(\"\");\r\n  const [price, setPrice] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      fetch(\"/api/service\")\r\n        .then((res) => res.json())\r\n        .then(\r\n          (result) => {\r\n            setServices(result);\r\n            });\r\n      let currentDebt = services.reduce((a, b) => ({ debt: a.debt + b.debt }));\r\n      currentDebt = currentDebt.debt;\r\n      services.map((price, index) => {\r\n        if (price.time && price.active) {\r\n          currentDebt +=\r\n            ((new Date().getTime() - price.time) / 1000) *\r\n            services[index].price;\r\n        }\r\n      });\r\n      setPrice(Math.round((currentDebt + Number.EPSILON) * 100) / 100);\r\n    }, 5000);\r\n    return () => clearInterval(intervalId);\r\n  });\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"dashboard\")}\r\n                className={isActive === \"dashboard\" ? \"active\" : \"nothing\"}\r\n                to=\"/\"\r\n              >\r\n                Dashboard\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"monitoring\")}\r\n                className={isActive === \"monitoring\" ? \"active\" : \"nothing\"}\r\n                to=\"/monitoring\"\r\n              >\r\n                Monitoring\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"services\")}\r\n                className={isActive === \"services\" ? \"active\" : \"nothing\"}\r\n                to=\"/services\"\r\n              >\r\n                Services\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              {price}\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/monitoring\">\r\n              <Monitoring />\r\n            </Route>\r\n            <Route path=\"/services\">\r\n              <Services user={(x) => setPrice(x)} />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Dashboard />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}