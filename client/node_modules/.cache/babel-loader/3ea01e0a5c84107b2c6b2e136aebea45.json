{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elarvav\\\\Desktop\\\\marketplace\\\\client\\\\src\\\\components\\\\AppNav.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Dashboard from \"./Dashboard\";\nimport Monitoring from \"./Monitoring\";\nimport Services from \"./Services\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport \"./appNav.scss\";\nexport default function AppNav() {\n  const [isActive, setIsActive] = useState(\"\");\n  const [price, setPrice] = useState([]);\n  const [services, setServices] = useState([]);\n  useEffect(() => {\n    const intervalId = setInterval(() => {\n      fetch(\"/api/service\").then(res => res.json()).then(result => {\n        setServices(result);\n      });\n      let currentDebt = 0;\n      services.map(service => {\n        currentDebt += service.debt;\n      });\n      services.map((price, index) => {\n        if (price.time && price.active) {\n          currentDebt += (new Date().getTime() - price.time) / 1000 * services[index].price;\n        }\n      });\n      setPrice(Math.round((currentDebt + Number.EPSILON) * 100) / 100);\n    }, 5000);\n    return () => clearInterval(intervalId);\n  });\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"dashboard\"),\n    className: isActive === \"dashboard\" ? \"active\" : \"nothing\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"Dashboard\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"monitoring\"),\n    className: isActive === \"monitoring\" ? \"active\" : \"nothing\",\n    to: \"/monitoring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"Monitoring\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    onClick: () => setIsActive(\"services\"),\n    className: isActive === \"services\" ? \"active\" : \"nothing\",\n    to: \"/services\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, \"Services\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, price))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/monitoring\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Monitoring, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/services\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Services, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["C:/Users/elarvav/Desktop/marketplace/client/src/components/AppNav.js"],"names":["React","useState","useEffect","Dashboard","Monitoring","Services","BrowserRouter","Router","Switch","Route","Link","AppNav","isActive","setIsActive","price","setPrice","services","setServices","intervalId","setInterval","fetch","then","res","json","result","currentDebt","map","service","debt","index","time","active","Date","getTime","Math","round","Number","EPSILON","clearInterval"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Dashboard from \"./Dashboard\";\r\nimport Monitoring from \"./Monitoring\";\r\nimport Services from \"./Services\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport \"./appNav.scss\";\r\n\r\nexport default function AppNav() {\r\n  const [isActive, setIsActive] = useState(\"\");\r\n  const [price, setPrice] = useState([]);\r\n  const [services, setServices] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      fetch(\"/api/service\")\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          setServices(result);\r\n        });\r\n      let currentDebt = 0;\r\n      services.map((service) => {\r\n        currentDebt+=service.debt;\r\n      });\r\n\r\n      services.map((price, index) => {\r\n        if (price.time && price.active) {\r\n          currentDebt +=\r\n            ((new Date().getTime() - price.time) / 1000) *\r\n            services[index].price;\r\n        }\r\n      });\r\n      setPrice(Math.round((currentDebt + Number.EPSILON) * 100) / 100);\r\n    }, 5000);\r\n    return () => clearInterval(intervalId);\r\n  });\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <nav>\r\n          <ul>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"dashboard\")}\r\n                className={isActive === \"dashboard\" ? \"active\" : \"nothing\"}\r\n                to=\"/\"\r\n              >\r\n                Dashboard\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"monitoring\")}\r\n                className={isActive === \"monitoring\" ? \"active\" : \"nothing\"}\r\n                to=\"/monitoring\"\r\n              >\r\n                Monitoring\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <Link\r\n                onClick={() => setIsActive(\"services\")}\r\n                className={isActive === \"services\" ? \"active\" : \"nothing\"}\r\n                to=\"/services\"\r\n              >\r\n                Services\r\n              </Link>\r\n            </li>\r\n            <li className=\"price\">{price}</li>\r\n          </ul>\r\n        </nav>\r\n        <div className=\"content\">\r\n          <Switch>\r\n            <Route path=\"/monitoring\">\r\n              <Monitoring />\r\n            </Route>\r\n            <Route path=\"/services\">\r\n              <Services />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Dashboard />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}